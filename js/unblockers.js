// ===== Unblocker Link Data =====
const unblockerData = {
  linkdump: [
    'https://securlysettings.latinliturgy.com/',
    'https://blackpeoplehistory.latinliturgy.com/',
    'https://play.jimmyqrg.com/',
    'https://wiki.schooloqy.com/',
    'https://play.schooloqy.com/',
    'https://canyonsinstructer.e-m-a-i-l.org/',
    'https://jalenhurtsthegoat.thehomeserver.net/',
    'https://jalenhurtsformvp.minecraftr.us/',
    'https://ieatfeet.dougtreadwell.com/',
    'https://nana.rh-1.alyaf.com/',
    'https://mathd.stegi-chorus.gr/',
    'https://jmcookinginamctenmath.bastaff.ru/',
    'https://rc-1140.probac.cl/',
    'https://rc-1140.martingrubinger.at/',
    'https://mywholelife.screenclip.net/',
    'https://nana.rammer.apirent.cl/',
    'https://nana.rammer.boiso.ar/',
    'https://nana.rammer.govt.hu/',
    'https://nana.rammerhead.polishmc.pl/',
    'https://nana.rh-1.govt.hu/',
    'https://ksd-resource.sababat.com/',
    'https://nana.rammer.psgl.cl/',
    'https://rammer.nana.rinet.ai/',
    'https://veryhardmathproblems.weebly.com/',
    'https://nahidontneed.help/',
    'https://studentfr.sentinet.co.za/',
    'https://fernfr.sentinet.co.za/',
    'https://desmosclassroomtpday.sentinet.co.za/',
    'https://akanethegoat.sentinet.co.za/',
    'https://trucetonight.sentinet.co.za/',
    'https://studyhall.graphicon.ru/',
    'https://fwe.graphicon.ru/',
    'https://fweeeeeeeethegoat.graphicon.ru/',
    'https://shdjdgdhsidhwfs.graphicon.ru/',
    'https://silvervalethegoat.graphicon.ru/',
    'https://pooooof.latinliturgy.com/',
    'https://3306speciallink.surendrapant.com.np/',
    'https://educal.hotelconsuladoinn.com/',
    'https://reservations.hotelconsuladoinn.com/',
    'https://overcloaked.vcsa.creographix.at/',
    'https://playernation.superportret.ru/',
    'https://shop.patf.net/',
    'https://classes.psychology48.com/',
    'https://over.sulevkivastik.ee/',
    'https://powers.superportret.ru/',
    'https://new.willemvisser.co.za/',
    'https://instant.unibutton.com/',
    'https://quasar.vcsa.superportret.ru/',
    'https://science.willemvisser.co.za/',
    'https://mathnotes.creographix.at/',
    'https://rec.vcsa.creographix.at/',
    'https://buy.patf.net/',
    'https://health.psychology48.com/',
    'https://wondering.superportret.ru/',
    'https://learnvcsa.unibutton.com/',
    'https://msbabkiesclass.com/',
    'https://scrapbooking-directory.com/',
    'https://sfasoftballcamps.com/',
    'https://playernation.blackonstuff.com/',
    'https://happy.creographix.at/',
    'https://vcsa.goodrichweb.com/',
    'https://healthy.graphicon.org/',
    'https://vapor.dmvdriverseducation.org/',
    'https://engine.tomaszu.com/',
  ],

  interstellar: [
    'https://securlysettings.latinliturgy.com/',
    'https://play.jimmyqrg.com/',
    'https://educal.hotelconsuladoinn.com/',
    'https://studyhall.graphicon.ru/',
  ],

  astroid: [
    'https://wiki.schooloqy.com/',
    'https://play.schooloqy.com/',
    'https://classes.psychology48.com/',
    'https://health.psychology48.com/',
  ],

  shadow: [
    'https://mywholelife.screenclip.net/',
    'https://overcloaked.vcsa.creographix.at/',
    'https://playernation.superportret.ru/',
    'https://powers.superportret.ru/',
    'https://quasar.vcsa.superportret.ru/',
    'https://mathnotes.creographix.at/',
    'https://rec.vcsa.creographix.at/',
    'https://wondering.superportret.ru/',
    'https://learnvcsa.unibutton.com/',
    'https://playernation.blackonstuff.com/',
    'https://happy.creographix.at/',
    'https://vcsa.goodrichweb.com/',
    'https://healthy.graphicon.org/',
  ],

  rammerhead: [
    'https://nana.rh-1.alyaf.com/',
    'https://nana.rammer.apirent.cl/',
    'https://nana.rammer.boiso.ar/',
    'https://nana.rammer.govt.hu/',
    'https://nana.rammerhead.polishmc.pl/',
    'https://nana.rh-1.govt.hu/',
    'https://nana.rammer.psgl.cl/',
    'https://rammer.nana.rinet.ai/',
  ],

  utopia: [
    'https://canyonsinstructer.e-m-a-i-l.org/',
    'https://instant.unibutton.com/',
    'https://new.willemvisser.co.za/',
    'https://science.willemvisser.co.za/',
  ],

  doge: [
    'https://jalenhurtsthegoat.thehomeserver.net/',
    'https://jalenhurtsformvp.minecraftr.us/',
    'https://ieatfeet.dougtreadwell.com/',
  ],

  space: [
    'https://over.sulevkivastik.ee/',
    'https://shop.patf.net/',
    'https://buy.patf.net/',
  ],

  daydream: [
    'https://ksd-resource.sababat.com/',
    'https://sfasoftballcamps.com/',
  ],

  selenite: [
    'https://mathd.stegi-chorus.gr/',
    'https://jmcookinginamctenmath.bastaff.ru/',
    'https://rc-1140.probac.cl/',
    'https://rc-1140.martingrubinger.at/',
  ],

  velera: [
    'https://blackpeoplehistory.latinliturgy.com/',
    'https://pooooof.latinliturgy.com/',
  ],

  petezah: [
    'https://veryhardmathproblems.weebly.com/',
    'https://nahidontneed.help/',
  ],

  others: [
    'https://studentfr.sentinet.co.za/',
    'https://fernfr.sentinet.co.za/',
    'https://desmosclassroomtpday.sentinet.co.za/',
    'https://akanethegoat.sentinet.co.za/',
    'https://trucetonight.sentinet.co.za/',
    'https://fwe.graphicon.ru/',
    'https://fweeeeeeeethegoat.graphicon.ru/',
    'https://shdjdgdhsidhwfs.graphicon.ru/',
    'https://silvervalethegoat.graphicon.ru/',
    'https://3306speciallink.surendrapant.com.np/',
    'https://reservations.hotelconsuladoinn.com/',
    'https://msbabkiesclass.com/',
    'https://scrapbooking-directory.com/',
    'https://vapor.dmvdriverseducation.org/',
    'https://engine.tomaszu.com/',
  ],
};

// ===== Render link grids =====
function renderLinkGrid(containerId, links) {
  const container = document.getElementById(containerId);
  if (!container) return;
  container.innerHTML = '';
  links.forEach(url => {
    const a = document.createElement('a');
    a.href = url;
    a.target = '_blank';
    a.rel = 'noopener noreferrer';
    a.className = 'link-pill';
    try {
      a.textContent = new URL(url).hostname;
    } catch {
      a.textContent = url;
    }
    container.appendChild(a);
  });
}

// Render all sections
Object.keys(unblockerData).forEach(key => {
  renderLinkGrid(key + 'Grid', unblockerData[key]);
});

// ===== Search/Filter =====
const ubSearch = document.getElementById('ubSearch');
const resultsCount = document.getElementById('resultsCount');

if (ubSearch) {
  ubSearch.addEventListener('input', (e) => {
    const query = e.target.value.toLowerCase();
    const sections = document.querySelectorAll('.section');
    let totalVisible = 0;

    sections.forEach(section => {
      const pills = section.querySelectorAll('.link-pill');
      let sectionVisible = 0;

      pills.forEach(pill => {
        if (pill.textContent.toLowerCase().includes(query) || pill.href.toLowerCase().includes(query)) {
          pill.style.display = '';
          sectionVisible++;
        } else {
          pill.style.display = 'none';
        }
      });

      const title = section.querySelector('.section-title');
      if (title && title.textContent.toLowerCase().includes(query)) {
        pills.forEach(p => { p.style.display = ''; sectionVisible = pills.length; });
      }

      section.style.display = sectionVisible > 0 || !query ? '' : 'none';
      totalVisible += sectionVisible;
    });

    resultsCount.textContent = query ? `${totalVisible} links found` : '';
  });
}
